(()=>{"use strict";const e=function(e,t,o,c,n){return{title:e,description:t,dueDate:o,priority:c,completed:n,active:!1}},t=function(){const e=document.querySelector(".task-container");e.innerHTML="";const t=document.querySelector(".task-list"),o=document.querySelector(".proj-name");if(0===s.length)o.textContent="No projects to display",t.classList.add("hide");else if(0===y().todos.length)t.textContent="No tasks to display",o.textContent=y().title;else{t.classList.remove("hide"),t.textContent="List of Tasks",o.textContent=y().title;for(const[t,o]of y().todos.entries()){const c=document.createElement("div");c.classList.add("task"),e.append(c),c.innerHTML=`<div>\n                <div class="${o.completed?"complete":"incomplete"} hover" data-completed="${t}"></div>\n                <div class="title" ${o.completed?'style="text-decoration: line-through"':""}>${o.title}</div>\n                </div>\n                <div>\n                <button class="details hover" data-detail="${t}">DETAILS</button>\n                <i class="fa-solid fa-pencil hover" data-edit="${t}"></i>\n                <i class="fa-solid fa-trash hover" data-task="${t}"></i>\n                </div>`}}},o=function(o){const c=document.querySelector("#task-dialog");o.preventDefault();const n=document.querySelector("#title").value,i=document.querySelector("#description").value,r=document.querySelector("#due-date").value.toString(),l=document.querySelector("#priority").value,d=document.querySelector("#completed").checked;y().todos.push(e(n,i,r,l,d)),localStorage.setItem("myProjects",JSON.stringify(s)),document.querySelector("#title").value="",document.querySelector("#description").value="",document.querySelector("#due-date").value="",document.querySelector("#priority").value="High",document.querySelector("#completed").checked=!1,t(),c.close()},c=function(e){const o=e.target;if(o.classList.contains("fa-trash")){const e=o.dataset.task;y().todos.splice(e,1),localStorage.setItem("myProjects",JSON.stringify(s)),t()}else if(o.classList.contains("fa-pencil")){const e=o.dataset.edit;y().todos[e].active=!0,document.querySelector("#edit-dialog").showModal();const t=y().todos[e];document.querySelector("input#edit-title").value=t.title,document.querySelector("textarea#edit-description").value=t.description,document.querySelector("input#edit-due-date").value=t.dueDate,document.querySelector("select#edit-priority").value=t.priority,document.querySelector("input#edit-completed").checked=t.completed}else if(o.classList.contains("details")){const e=document.querySelector(".wrapper"),t=document.createElement("div");t.classList.add("task-details"),e.append(t);const c=o.dataset.detail,n=y().todos[c],i=document.querySelector(".left"),r=document.querySelector(".main");i.setAttribute("style","filter: blur(20px)"),r.setAttribute("style","filter: blur(20px)"),t.innerHTML=`<div class="close-details">x</div>\n            <div><h4>Title:</h4>${n.title}</div>\n            <div><h4>Priority:</h4>${n.priority}</div>\n            <div><h4>Due Date:</h4>${n.dueDate}</div>\n            <div><h4>Description:</h4>${n.description}</div>`}else if(o.classList.contains("incomplete")||o.classList.contains("complete")){const e=o.dataset.completed,c=y().todos[e];c.completed?c.completed=!1:c.completed=!0,localStorage.setItem("myProjects",JSON.stringify(s)),t()}},n=function(e){if(e.target.classList.contains("close-details")){document.querySelector(".task-details").remove();const e=document.querySelector(".left"),t=document.querySelector(".main");e.setAttribute("style","filter: initial"),t.setAttribute("style","filter: initial")}},i=function(e){e.preventDefault();const o=document.querySelector("#edit-dialog"),c=y().todos[y().todos.findIndex((e=>!0===e.active))];c.title=document.querySelector("input#edit-title").value,c.description=document.querySelector("textarea#edit-description").value,c.dueDate=document.querySelector("input#edit-due-date").value,c.priority=document.querySelector("select#edit-priority").value,c.completed=document.querySelector("input#edit-completed").checked,c.active=!1,localStorage.setItem("myProjects",JSON.stringify(s)),o.close(),t()},r=function(e){const t=document.querySelector("#task-dialog");0!==s.length?t.showModal():alert("Please add a project first")},s=JSON.parse(localStorage.getItem("myProjects"))||[],l=function(e){return{title:e,active:!0,todos:[]}},d=function(){const e=document.querySelector(".projects");e.innerHTML="";for(const[t,o]of s.entries()){const c=document.createElement("div");e.append(c),c.classList.add("project"),c.innerHTML=`${o.title}<div>\n            <button class="proj-delete">Delete</button>\n            <button class="rename" data-rename="${t}">Rename</button></div>`}},a=function(e){document.querySelector("#proj-dialog").showModal()},u=function(e){const o=document.querySelector("#proj-dialog");e.preventDefault();const c=document.querySelector("#project-title").value;if(""!==c){0!==s.length&&(y().active=!1);const e=l(c);s.push(e),localStorage.setItem("myProjects",JSON.stringify(s)),d(),t(),o.close()}},m=function(e){const o=e.target;if(o.classList.contains("project")&&(s[s.findIndex((e=>!0===e.active))].active=!1,s[s.findIndex((e=>e.title===o.firstChild.textContent))].active=!0,t()),o.classList.contains("proj-delete")){const e=s.findIndex((e=>e.title===o.closest(".project").firstChild.textContent));s.splice(e,1),1===s.length&&(s[0].active=!0),localStorage.setItem("myProjects",JSON.stringify(s)),d(),t()}if(o.classList.contains("rename")){y().active=!1;const e=o.dataset.rename,t=s[e];t.active=!0,document.querySelector(".proj-rename").classList.remove("hide"),document.querySelector("input#proj-rename").value=t.title}},p=function(e){const t=document.querySelector("form.proj-rename");e.preventDefault(),t.classList.add("hide"),y().title=document.querySelector("input#proj-rename").value,localStorage.setItem("myProjects",JSON.stringify(s)),d()},y=function(){if(0!==s.length)return 1===s.length&&(s[0].active=!0),s.length>1&&void 0===s[s.findIndex((e=>!0===e.active))]&&(s[0].active=!0),s[s.findIndex((e=>!0===e.active))]};!function(){if(0===s.length){const o=l("Sample");s.push(o);const c=e("Sample task","none",(new Date).toISOString().split("T")[0],"High",!1);o.todos.push(c),t()}}(),t(),function(){const e=document.querySelector(".add-project"),t=document.querySelector(".new-proj-form"),o=document.querySelector(".projects"),c=document.querySelector("form.proj-rename");e.addEventListener("click",a),t.addEventListener("submit",u),o.addEventListener("click",m),c.addEventListener("submit",p)}(),function(){const e=document.querySelector(".task-form"),t=document.querySelector(".edit-form"),s=document.querySelector(".task-container"),l=document.querySelector(".wrapper");document.querySelector(".add-task").addEventListener("click",r),e.addEventListener("submit",o),t.addEventListener("submit",i),s.addEventListener("click",c),l.addEventListener("click",n)}(),d()})();
//# sourceMappingURL=index.js.map